\chapter{指標の提案}
\label{chap:proposal}

\section{指標の概要}

飲食店推薦システムでは，知名度が高い飲食店は必然的に評価される機会が多く，推薦が容易であるのに対し，知名度の低い飲食店は推薦の根拠となる評価が少ないため推薦されにくいといった問題が考えられる．ここでは，全ユーザの来店履歴データをもとに，知名度は低いが良質な飲食店を推薦するための「飲食店の穴場具合」を表す新たな指標を提案する．
%%タイトルと内容があっていない，指標の概要であれば提案する指標の概要を書くのでは？%%
\section{指標に対する要件}

推薦したいと考える穴場飲食店とは，推薦されにくいほどに知名度が低いが，推薦すべきほどに飲食店として良質であるという2つの性質を満たすものである．
そこで，一定期間の全ユーザの来店履歴から得られる，飲食店への来店者数の多さを知名度，のべ来店者数の多さを良質さとして，知名度が小さく，良質さが大きい飲食店を推薦すべきだという考えのもとに指標を提案する．
%%nつは書くならひらがなか漢数字，単位が不明確のため使わない方が良い%%
\section{来店者新規度(Visitor Novelty)}

ここで提案する1つ目の指標は，ある飲食店に対するのべ来店者数のうち来店回数が1回の新規客の占める割合であり，これを来店者新規度と名付ける．来店者新規度が高い飲食店は観光客がたくさん訪れる有名店，新規にオープンした店舗，または知名度が上昇している店舗であると考えられる．
ユーザ数を$N$，ある飲食店に対する任意のユーザの来店回数を$V_i$，のべ来店者数を$T$とすると，来店者新規度$\rm VN$は次式で与えられる．
\begin{equation}
	{\rm VN} = \sum^{N}_{i=1} \frac{V_i}{T}
\end{equation}

\section{穴場度(Anabality)}

提案する2つ目の指標は，来店者新規度について，ユーザのリピート回数に応じた指数的な重みをつけた値であり，これを穴場度と名付ける．
前述の来店者新規度では，「ある人が3回，別の人が3回だけ来店した飲食店」と「ある人が5回，別の人が1回だけ来店した飲食店」の評価値は同じである．
しかし，一部のユーザだけが何度も通うという状態により近い後者を高く評価したいと考え，各ユーザの来店回数に応じた指数的な重みをつけることで，何度も訪れるユーザがいる飲食店をより高く評価した．
ユーザ数を$N$，ある飲食店に対する任意のユーザの来店回数を$V_i$，のべ来店者数を$T$，全飲食店ののべ来店者数の平均を$T_{ave}$，4回以上飲食店に来店した全ユーザの来店回数の平均を$V_{ave}$とすると，穴場度$\rm A$は次式で与えられる．
\begin{equation}
	{\rm A} = \sum^{N}_{i=1} \frac{(V_{ave})^{{\rm min}(N,T_{ave})}}{T}
\end{equation}
ただし，例えば職場の近くにあるからなど，飲食店の良質さに深く関わらない要因でたくさん来店することも十分に考えられるため，指数の肩で全ユーザの平均来店回数をつけることで，そういった飲食店が過剰に評価されることを防いだ．
また，食事は一日三食食べることが標準的であるため，一日だけ特定地域にいた観光客などのユーザを無視するため4回以上来店したユーザの平均を取った．
%%過去形を使わない，指数関数の右肩の数字が指数では？%%
